{"remainingRequest":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\src\\components\\agencies\\AllAgenciesTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\src\\components\\agencies\\AllAgenciesTable.vue","mtime":1583148117877},{"path":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AndriiKharyshyn\\Documents\\vuestic-admin\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnOyAvL2ltcG9ydCBhZ2VuY2llcyBmcm9tICcuLi8uLi9kYXRhL2FsbEFnZW5jaWVzLmpzb24nCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlcm06IG51bGwsCiAgICAgIHBlclBhZ2U6ICczJywKICAgICAgcGVyUGFnZU9wdGlvbnM6IFsnMicsICczJywgJzQnLCAnNSddLAogICAgICBhZ2VuY2llczogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpZWxkczogZnVuY3Rpb24gZmllbGRzKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICBuYW1lOiAnX19zbG90Om1hcmtlcicsCiAgICAgICAgd2lkdGg6ICczJScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdhZ2VuY3lOYW1lJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLm5hbWUnKSwKICAgICAgICB3aWR0aDogJzMwJScsCiAgICAgICAgc29ydEZpZWxkOiAnYWdlbmN5TmFtZScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdjaXR5JywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLmNpdHknKSwKICAgICAgICB3aWR0aDogJzEwJScsCiAgICAgICAgc29ydEZpZWxkOiAnY2l0eScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdlbWFpbCcsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5lbWFpbCcpLAogICAgICAgIHdpZHRoOiAnMTUlJywKICAgICAgICBzb3J0RmllbGQ6ICdlbWFpbCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdwaG9uZScsCiAgICAgICAgdGl0bGU6IHRoaXMuJHQoJ3RhYmxlcy5oZWFkaW5ncy5waG9uZScpLAogICAgICAgIHdpZHRoOiAnMTUlJywKICAgICAgICBzb3J0RmllbGQ6ICdwaG9uZScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICd3ZWJzaXRlJywKICAgICAgICB0aXRsZTogdGhpcy4kdCgndGFibGVzLmhlYWRpbmdzLndlYnNpdGUnKSwKICAgICAgICB3aWR0aDogJzE1JScsCiAgICAgICAgc29ydEZpZWxkOiAnd2Vic2l0ZScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdwcmVmaXgnLAogICAgICAgIHRpdGxlOiB0aGlzLiR0KCd0YWJsZXMuaGVhZGluZ3MucHJlZml4JyksCiAgICAgICAgd2lkdGg6ICc1JScsCiAgICAgICAgc29ydEZpZWxkOiAncHJlZml4JwogICAgICB9XTsKICAgIH0sCiAgICBmaWx0ZXJlZERhdGE6IGZ1bmN0aW9uIGZpbHRlcmVkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy50ZXJtIHx8IHRoaXMudGVybS5sZW5ndGggPCAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWdlbmNpZXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmFnZW5jeU5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhfdGhpcy50ZXJtLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEFsbEFnZW5jaWVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZ2VuY3lEZXRhaWxzOiBmdW5jdGlvbiBhZ2VuY3lEZXRhaWxzKGFnZW5jeSkgewogICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKCcvaWQ9JyArIGFnZW5jeS5pZCkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdhZ2VuY3ktY2FyZCcKICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoOiBkZWJvdW5jZShmdW5jdGlvbiAodGVybSkgewogICAgICB0aGlzLnRlcm0gPSB0ZXJtOwogICAgfSwgNDAwKSwKICAgIGdldEFsbEFnZW5jaWVzOiBmdW5jdGlvbiBnZXRBbGxBZ2VuY2llcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJQYWdlLAogICAgICAgIHBhZ2U6IHBhZ2UKICAgICAgfTsKICAgICAgYXhpb3MuZ2V0KCcvYXBpL2dldEFsbEFnZW5jaWVzJywgewogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmFnZW5jaWVzID0gcmVzcG9uc2UuZGF0YTsgLy90aGlzLnRvdGFsUGFnZXMgPSByZXNwb25zZS5kYXRhLnRvdGFsX3BhZ2VzCgogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AllAgenciesTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <va-card :title=\"$t('tables.allAgencies')\" stripe=\"secondary\">\r\n    <div class=\"row align--center\">\r\n      <div class=\"flex xs12 md6\">\r\n        <va-input\r\n          :value=\"term\"\r\n          :placeholder=\"$t('tables.search')\"\r\n          @input=\"search\"\r\n        >\r\n          <va-icon name=\"fa fa-search\" slot=\"prepend\"/>\r\n        </va-input>\r\n      </div>\r\n\r\n      <div class=\"flex xs12 md3 offset--md3\">\r\n        <va-select\r\n          v-model=\"perPage\"\r\n          :label=\"$t('tables.perPage')\"\r\n          :options=\"perPageOptions\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <va-data-table\r\n      :fields=\"fields\"\r\n      :data=\"filteredData\"\r\n      :per-page=\"parseInt(perPage)\"\r\n      :loading=\"loading\"\r\n      @row-clicked=\"agencyDetails\"\r\n      clickable\r\n      striped\r\n      hoverable\r\n      api-mode\r\n      useDetailRow\r\n      track-by=\"agencyId\"\r\n    >\r\n      <template slot=\"marker\" slot-scope=\"props\">\r\n        <va-icon name=\"fa fa-circle\" :color=\"props.rowData.color\" size=\"6px\"/>\r\n      </template>\r\n    </va-data-table>\r\n  </va-card>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  import {debounce} from 'lodash'\r\n  //import agencies from '../../data/allAgencies.json'\r\n\r\n  export default {\r\n    components: {},\r\n    data() {\r\n      return {\r\n        term: null,\r\n        perPage: '3',\r\n        perPageOptions: ['2', '3', '4', '5'],\r\n        agencies: [],\r\n        loading: false,\r\n      }\r\n    },\r\n    computed: {\r\n      fields() {\r\n        return [{\r\n          name: '__slot:marker',\r\n          width: '3%',\r\n        }, {\r\n          name: 'agencyName',\r\n          title: this.$t('tables.headings.name'),\r\n          width: '30%',\r\n          sortField: 'agencyName',\r\n        }, {\r\n          name: 'city',\r\n          title: this.$t('tables.headings.city'),\r\n          width: '10%',\r\n          sortField: 'city',\r\n        }, {\r\n          name: 'email',\r\n          title: this.$t('tables.headings.email'),\r\n          width: '15%',\r\n          sortField: 'email',\r\n        }, {\r\n          name: 'phone',\r\n          title: this.$t('tables.headings.phone'),\r\n          width: '15%',\r\n          sortField: 'phone',\r\n        }, {\r\n          name: 'website',\r\n          title: this.$t('tables.headings.website'),\r\n          width: '15%',\r\n          sortField: 'website',\r\n        }, {\r\n          name: 'prefix',\r\n          title: this.$t('tables.headings.prefix'),\r\n          width: '5%',\r\n          sortField: 'prefix',\r\n        }]\r\n      },\r\n      filteredData() {\r\n        if (!this.term || this.term.length < 1) {\r\n          return this.agencies\r\n        }\r\n\r\n        return this.agencies.filter(item => {\r\n          return item.agencyName.toLowerCase().includes(this.term.toLowerCase())\r\n        })\r\n      },\r\n    },\r\n    created () {\r\n      this.getAllAgencies()\r\n    },\r\n    methods: {\r\n      agencyDetails(agency) {\r\n        //this.$router.push('/id=' + agency.id)\r\n        this.$router.push({name: 'agency-card'})\r\n      },\r\n      search: debounce(function (term) {\r\n        this.term = term\r\n      }, 400),\r\n      getAllAgencies (page = 0) {\r\n        this.loading = true\r\n\r\n        const params = {\r\n          per_page: this.perPage,\r\n          page: page,\r\n        }\r\n\r\n        axios.get('/api/getAllAgencies',{params})\r\n          .then(response => {\r\n            this.agencies = response.data\r\n            //this.totalPages = response.data.total_pages\r\n            this.loading = false\r\n          })\r\n      },\r\n    },\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/components/agencies"}]}